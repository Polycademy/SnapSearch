<div class="crawling">
    <h2 class="control-title">Crawling Statistics</h2>
    <em class="api-key">API Key: {{userAccount.sharedKey}}</em>
    <div class="telemetry-block overview">
        <h3 class="telemetry-title">Overview</h3>
        <em class="telemetry-emphasis">This Cycle - from <strong>{{chargeCycle.beginning.format('YYYY/MM/DD')}}</strong> to <strong>{{chargeCycle.ending.format('YYYY/MM/DD')}}</strong></em>
        <div class="row overview-requests-usages-tally no-gutter">
            <div class="col-sm-4 tally-col">
                <div class="tally-block tally_block_request">
                    <span class="tally-bg">R</span>
                    <p class="tally-number">{{userAccount.apiRequests}}</p>
                </div>
                <p class="tally-description">Requests Received</p>
            </div>
            <div class="col-sm-4 tally-col">
                <div class="tally-block tally_block_usage">
                    <span class="tally-bg">U</span>
                    <p class="tally-number">{{userAccount.apiUsage}}</p>
                </div>
                <p class="tally-description">Usages Used</p>
            </div>
            <div class="col-sm-4 tally-col">
                <div class="tally-block tally_block_available">
                    <span class="tally-bg">A</span>
                    <p class="tally-number">{{userAccount.apiLimit - userAccount.apiUsage}}</p>
                </div>
                <p class="tally-description">Usages Available</p>
            </div>
        </div>
        <div class="progress progress-striped active usage-bar">
            <div class="progress-bar" ng-style="{ width: userAccount.apiUsagePercentage + '%' }"></div>
        </div>
        <p class="telemetry-emphasis">Used up {{userAccount.apiUsagePercentage}}% of API Usage Cap this cycle.</p>
    </div>
    <div class="telemetry-block">
        <h3 class="telemetry-title">Monthly Usage Cap</h3>
        <form class="api-limit-modifier form-horizontal" name="apiLimitModifierForm">
            <dl>
                <dt>
                    <label class="control-label" for="apiLimitModifierFormQuantity">Enter Usage Cap:</label>
                </dt>
                <dd class="input-group">
                    <input 
                        id="apiLimitModifierFormQuantity"
                        class="form-control" 
                        type="number" 
                        name="quantity" 
                        ng-model="apiLimitModifier.quantity" 
                        maxlength="10" 
                    />
                    <span class="input-group-btn">
                        <button 
                            class="btn btn-primary" 
                            type="submit" 
                            ng-click="changeLimit(apiLimitModifier)" 
                        >
                            Change Cap
                        </button>
                    </span>
                </dd>
                <dt>Free Usage Cap:</dt>
                <dd>{{userAccount.apiFreeLimit}}</dd>
                <dt>Cost Per Month:<br /><small>(discounting free usage cap)</small></dt>
                <dd>${{price}} AUD</dd>
            </dl>
        </form>
    </div>
    <div class="telemetry-block">
        <h3 class="telemetry-title">History</h3>
    </div>
    <div class="telemetry-block">
        <h3 class="telemetry-title">Domain Distinction</h3>
    </div>
    <div class="telemetry-block">
        <h3 class="telemetry-title">Log</h3>
        <table>
            <thead>
                <th>Date</th>
                <th>Url</th>
                <th>Request Parameters</th>
                <th>Response Time</th>
                <th>Domain</th>
            </thead>
            <tbody>
                <tr ng-repeat="record in requestLog">
                    <td>{{record.date}}</td>
                    <td>{{record.url}}</td>
                    <td>{{record.requestParameters}}</td>
                    <td>{{record.responseTime}}</td>
                    <td>{{record.domain}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>